<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookin' With The Lewises Order Form</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f9f7e8; padding: 20px; }
        h1 { text-align: center; }
        .roll-section { margin-bottom: 20px; }
        .section-title { font-size: 1.5em; font-weight: bold; margin-bottom: 10px; }
        .roll-item { margin-bottom: 10px; }
        .roll-title { font-weight: bold; }
        .roll-subtext { font-style: italic; color: gray; }
        .price { color: green; font-weight: bold; }
        .order-summary { margin-top: 30px; padding: 10px; border: 1px solid #ccc; background-color: #fff; }
        .total { font-weight: bold; font-size: 1.2em; margin-top: 20px; }
        .submit-btn { background-color: #4CAF50; color: white; padding: 10px 20px; border: none; cursor: pointer; }
        .input-box { width: 50px; }
        .checkbox-item { margin-bottom: 10px; }
    </style>
</head>
<body>

    <h1>Cookin' With The Lewises Order Form</h1>

    <!-- Basic Rolls Section -->
    <div class="roll-section">
        <div class="section-title">Basic Rolls</div>

        <div class="roll-item">
            <span class="roll-title">Valley Girl</span> - <span class="roll-subtext">California Roll</span>
            <br>Price: <span class="price">$8.00</span>
            <br>Quantity: <input type="number" class="input-box" id="roll1-qty" value="0" min="0" onchange="calculateTotal()">
        </div>

        <div class="roll-item">
            <span class="roll-title">Jersey Boy</span> - <span class="roll-subtext">Spicy Salmon, Avocado</span>
            <br>Price: <span class="price">$9.00</span>
            <br>Quantity: <input type="number" class="input-box" id="roll2-qty" value="0" min="0" onchange="calculateTotal()">
        </div>
    </div>

    <!-- ...other roll sections here... -->

    <!-- Custom Roll Section -->
    <div class="roll-section">
        <div class="section-title">Custom Roll</div>
        <label for="custom-roll-name">Name Your Roll:</label>
        <input type="text" id="custom-roll-name" placeholder="e.g. The Volcano">
        <br><label for="custom-roll-description">Select ingredients:</label>
        <div class="checkbox-item">
            <input type="checkbox" id="ingredient1" name="ingredient" value="Tuna"> Tuna ($5.00)<br>
            <input type="checkbox" id="ingredient2" name="ingredient" value="Salmon"> Salmon ($2.50)<br>
            <input type="checkbox" id="ingredient3" name="ingredient" value="Avocado"> Avocado ($1.00)<br>
            <input type="checkbox" id="ingredient4" name="ingredient" value="Cucumber"> Cucumber ($1.00)<br>
            <input type="checkbox" id="ingredient5" name="ingredient" value="Spicy Mayo"> Spicy Mayo ($0.50)<br>
        </div>
        <br>Base Price: <span class="price">$10.00</span> (additional ingredient prices apply)
        <br>Quantity: <input type="number" class="input-box" id="custom-roll-qty" value="0" min="0" onchange="calculateTotal()">
    </div>

    <!-- Order Summary -->
    <div class="order-summary" id="order-summary">
        <h2>Order Summary</h2>
        <div id="summary-details"></div>
        <div class="total">Total: $<span id="total-price">0.00</span></div>
    </div>

    <button class="submit-btn" onclick="submitOrder()">Submit Order</button>

    <script>
        function calculateTotal() {
            const roll1Qty = parseInt(document.getElementById('roll1-qty').value) || 0;
            const roll2Qty = parseInt(document.getElementById('roll2-qty').value) || 0;
            const customRollQty = parseInt(document.getElementById('custom-roll-qty').value) || 0;

            const roll1Price = 8.00;
            const roll2Price = 9.00;
            const customRollPrice = 10.00;

            // Ingredient prices
            let customRollIngredientsPrice = 0;
            document.querySelectorAll('input[name="ingredient"]:checked').forEach((item) => {
                customRollIngredientsPrice += parseFloat(item.value.split(" ")[1]);
            });

            const total = (roll1Qty * roll1Price) + (roll2Qty * roll2Price) + 
                          (customRollQty * (customRollPrice + customRollIngredientsPrice));

            document.getElementById('total-price').innerText = total.toFixed(2);

            let summaryDetails = '';
            if (roll1Qty > 0) summaryDetails += `${roll1Qty}x Valley Girl Roll<br>`;
            if (roll2Qty > 0) summaryDetails += `${roll2Qty}x Jersey Boy Roll<br>`;
            if (customRollQty > 0) {
                const customName = document.getElementById('custom-roll-name').value || 'Custom Roll';
                const ingredients = [...document.querySelectorAll('input[name="ingredient"]:checked')].map(e => e.value.split(" ")[0]).join(', ') || 'Custom ingredients';
                summaryDetails += `${customRollQty}x ${customName} (${ingredients})<br>`;
            }

            document.getElementById('summary-details').innerHTML = summaryDetails || 'No items selected';
        }

        function submitOrder() {
            const roll1Qty = parseInt(document.getElementById('roll1-qty').value) || 0;
            const roll2Qty = parseInt(document.getElementById('roll2-qty').value) || 0;
            const customRollQty = parseInt(document.getElementById('custom-roll-qty').value) || 0;
            const customName = document.getElementById('custom-roll-name').value || 'Custom Roll';
            const ingredients = [...document.querySelectorAll('input[name="ingredient"]:checked')].map(e => e.value.split(" ")[0]).join(', ') || 'Custom ingredients';
            const total = document.getElementById('total-price').innerText;

            // Create an order object
            const order = {
                roll1Qty: roll1Qty,
                roll2Qty: roll2Qty,
                customRollQty: customRollQty,
                customName: customName,
                ingredients: ingredients,
                total: total
            };

            // Send the order data to the Google Sheets web app
            fetch('https://script.google.com/macros/s/AKfycbwTlIqENeumogb0NA6xDNyEHD7QWt0T1BbcxfXj7pQWT02XfTyOxdQtOcYCPS7gspWy0g/exec', {
                method: 'POST',
                body: JSON.stringify(order),
                headers: {
                    'Content-Type': 'application/json',
                },
            })
            .then(response => response.json())
            .then(data => {
                alert('Order Submitted Successfully!');
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>
</body>
</html>
